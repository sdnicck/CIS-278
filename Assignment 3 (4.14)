// Assignment 3 (4.14).cpp : This file contains the 'main' function. Program execution begins and ends there.
//

#include <iostream>
#include <string>
#include <iomanip>

using namespace std;

class Credit {
private:
    int accountNumber;
    double balance;
    double totalCharge;
    double totalCredit;
    double creditLimit;

public:
    explicit Credit(int a, double b, double c, double d, double e)
        : accountNumber(a)
        , balance(b)
        , totalCharge(c)
        , totalCredit(d)
        , creditLimit(e)
    {};

    void setAccountNumber(int a) {
        accountNumber = a;
    }

    int getAccountNumber() const {
        return accountNumber;
    }

    void setBalance(double b) {
        if (b <= 0) {
            balance = 0;
        }
        else {
            balance = b;
        }
    }

    double getBalance() {
        return balance;
    }

    void setTotalCharge(double c) {
        totalCharge = c;
    }

    double getTotalCharge() {
        return totalCharge;
    }

    void setTotalCredit(double d) {
        totalCredit = d;
    }

    double getTotalCredit() {
        return totalCredit;
    }

    void setCreditLimit(double e) {
        creditLimit = e;
    }

    double getCreditLimit() {
        return creditLimit;
    }

    double newBalance() {
        return balance + totalCharge - totalCredit;
    }
};

int main()
{
    Credit balanceCheck{ 0,0,0,0,0 };

    double balance;
    double totalCharge;
    double totalCredit;
    double creditLimit;

    int accountNumber;

    cout << "Please enter your account number (-1 to quit): " << endl;
    cin >> accountNumber;
    balanceCheck.setAccountNumber(accountNumber);

    while (accountNumber != -1) {

        cout << "Please enter your current balance: " << endl;
        cin >> balance;
        balanceCheck.setBalance(balance);

        cout << "Please enter the total charges: " << endl;
        cin >> totalCharge;
        balanceCheck.setTotalCharge(totalCharge);

        cout << "Please enter the total creidts: " << endl;
        cin >> totalCredit;
        balanceCheck.setTotalCredit(totalCredit);

        cout << "Please enter the credit limit: " << endl;
        cin >> creditLimit;
        balanceCheck.setCreditLimit(creditLimit);

        cout << "Your new balance is $ "<< fixed << setprecision(2) << balanceCheck.newBalance() << endl;
        if (balanceCheck.newBalance() >= balanceCheck.getCreditLimit()) {
            cout << "Account: " << fixed << setprecision(2) << balanceCheck.getAccountNumber() << endl;
            cout << "Credit Limit: " << fixed << setprecision(2) << balanceCheck.getCreditLimit() << endl;
            cout << "Balance: " << fixed << setprecision(2) << balanceCheck.newBalance() << endl;
            cout << "Credit Limit Exceeded." << endl;

            cout << "Please enter your account number (-1 to quit): " << endl;
            cin >> accountNumber;
            balanceCheck.setAccountNumber(accountNumber);

        }
    }
}

